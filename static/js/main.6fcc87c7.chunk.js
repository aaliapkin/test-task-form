(this.webpackJsonpform=this.webpackJsonpform||[]).push([[0],{21:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),c=r.n(n),s=r(13),o=r.n(s),i=r(2),l=r.n(i),u=r(5),m=r(3),j=r(7),b=r(9),d=r(11),h=r(10),f=r.n(h);function p(){var e=new Date(Date.now());return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,9,0)}function O(e){var t=e.match(/^(\d{2}).(\d{2}).(\d{4}) (\d{2}):(\d{2})$/);if(null!==t){var r=Object(m.a)(t,6),a=r[1],n=r[2],c=r[3],s=r[4],o=r[5],i=Date.parse("".concat(c,"-").concat(n,"-").concat(a,"T").concat(s,":").concat(o));if(!isNaN(i))return i}}var x=Object(n.forwardRef)((function(e,t){var r=e.value,n=e.onChange,c=e.name;return Object(a.jsx)(f.a,{name:c,value:r,mask:"99.99.9999 99:99",maskPlaceholder:"_",alwaysShowMask:!0,onChange:function(e){e.persist(),n(e.target.value)},children:function(e){e.maskPlaceholder;var t=Object(d.a)(e,["maskPlaceholder"]);return Object(a.jsx)("input",Object(b.a)({type:"text",name:t.name,className:"form-control"},t))}})}));var g=function(e){var t,r=e.name,n=(e.errors,e.control),s=c.a.useState(("0"+(t=p()).getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear()+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)),o=Object(m.a)(s,2),i=o[0],l=o[1];return Object(a.jsx)(j.a,{as:Object(a.jsx)(x,{}),value:i,onChange:function(e){var t=Object(m.a)(e,1)[0];return l(t),{value:t}},rules:{validate:{inputTelRequired:function(e){return function(e){var t=O(e);if(void 0===t)return"\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";var r=p();return!(new Date(t).getTime()<r.getTime())||"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0435 \u0440\u0430\u043d\u0435\u0435 \u0437\u0430\u0432\u0442\u0440\u0430\u0448\u043d\u0435\u0433\u043e \u0434\u043d\u044f"}(e)}}},defaultValue:i,name:r,control:n})},v=Object(n.forwardRef)((function(e,t){var r=e.value,n=e.onChange,c=e.name;return Object(a.jsx)(f.a,{name:c,value:r,mask:"+7 (999) 999-9999",maskPlaceholder:"_",alwaysShowMask:!0,onChange:function(e){e.persist(),n(e.target.value)},children:function(e){e.maskPlaceholder;var t=Object(d.a)(e,["maskPlaceholder"]);return Object(a.jsx)("input",Object(b.a)({type:"text",name:t.name,className:"form-control"},t))}})}));var N=function(e){var t=e.name,r=(e.errors,e.control),n=c.a.useState(""),s=Object(m.a)(n,2),o=s[0],i=s[1];return Object(a.jsx)(j.a,{as:Object(a.jsx)(v,{}),value:o,onChange:function(e){var t=Object(m.a)(e,1)[0];return i(t),{value:t}},rules:{required:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d"},defaultValue:o,name:t,control:r})},w=(r(21),function(e){var t=e.error;return t?Object(a.jsx)("div",{className:"form-group call-form__error",children:t.message}):Object(a.jsx)(c.a.Fragment,{})}),k=function(e){return e.success?Object(a.jsx)("div",{className:"form-group call-form__success",children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}):Object(a.jsx)(n.Fragment,{})},y=function(e){var t=Object(j.b)({reValidateMode:"onChange"}),r=t.handleSubmit,c=t.register,s=t.setError,o=t.clearErrors,i=t.errors,b=t.control,d=Object(n.useState)(!1),h=Object(m.a)(d,2),f=h[0],p=h[1],x=Object(n.useState)(!1),v=Object(m.a)(x,2),y=v[0],_=v[1],F=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=6;break}return p(!0),r={id:1,data:{phone:t.phone.trim().replace(/\D/g,"").replace(/^7/g,"+7"),date:O(t.date),comment:t.comment}},fetch("https://cors-anywhere.herokuapp.com/https://interview.gazilla-lounge.ru/api/submit",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){return S(e)})).catch((function(){s("submit",{type:"send_error",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0444\u043e\u0440\u043c\u044b"}),setTimeout((function(){o("submit")}),3e3)})),e.next=6,new Promise((function(e){setTimeout((function(){p(!1),e()}),5e3)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(e){e.data?_(!0):(s("submit",{type:"send_error",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0444\u043e\u0440\u043c\u044b"}),setTimeout((function(){o("submit")}),3e3))}return Object(a.jsx)(n.Fragment,{children:Object(a.jsxs)("div",{className:"call-form__wrapper mx-auto container",children:[Object(a.jsx)("h1",{children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u0437\u0432\u043e\u043d\u043e\u043a"}),Object(a.jsxs)("form",{onSubmit:r(F),className:"call-form",disabled:f,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"phone",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(a.jsx)(N,{name:"phone",errors:i,control:b})]}),Object(a.jsx)(w,{error:i.phone}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"date",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0437\u0432\u043e\u043d\u043a\u0430"}),Object(a.jsx)(g,{name:"date",errors:i,control:b})]}),Object(a.jsx)(w,{error:i.date}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"comment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u044f\u0432\u043a\u0435"}),Object(a.jsx)("textarea",{name:"comment",id:"comment",maxLength:"1024",rows:"6",ref:c({maxLength:{value:1024,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442"}}),className:"form-control"})]}),Object(a.jsx)(w,{error:i.comment}),Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("div",{className:"input-group-text",children:Object(a.jsx)("input",{id:"agree",name:"agree",type:"checkbox",className:"checkbox",ref:c({required:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0443\u0441\u043b\u0443\u0433\u0438"})})})}),Object(a.jsx)("label",{htmlFor:"agree",className:"form-control",children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0443\u0441\u043b\u0443\u0433\u0438"})]}),Object(a.jsx)(w,{error:i.agree}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"submit",className:"btn btn-primary",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",disabled:f})}),Object(a.jsx)(w,{error:i.submit}),Object(a.jsx)(k,{success:y})]})]})})};r(22),r(23);o.a.render(Object(a.jsx)(y,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6fcc87c7.chunk.js.map